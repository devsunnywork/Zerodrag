<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zero Drag - Daily Dev Log</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400;700&family=Allura&display=swap');

        :root {
            --primary: #0f172a;
            --accent: #3b82f6;
            --secondary-text: #64748b;
            --border-color: #e2e8f0;
        }

        * {
            box-sizing: border-box;
        }

        body {
            background-color: #525252;
            margin: 0;
            padding: 40px;
            font-family: 'Inter', sans-serif;
            color: #334155;
            line-height: 1.6;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        .page {
            background: white;
            width: 210mm;
            min-height: 297mm;
            padding: 20mm 25mm;
            margin: 0 auto 30px auto;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        header {
            border-bottom: 2px solid var(--primary);
            padding-bottom: 20px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .header-left h1 {
            font-family: 'Cinzel', serif;
            font-size: 24px;
            font-weight: 700;
            margin: 0;
            letter-spacing: 2px;
            color: var(--primary);
            text-transform: uppercase;
        }

        .header-left .subtitle {
            font-size: 11px;
            color: var(--secondary-text);
            letter-spacing: 1px;
            margin-top: 5px;
            text-transform: uppercase;
        }

        .header-right {
            text-align: right;
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            color: var(--secondary-text);
        }

        .section {
            margin-bottom: 25px;
        }

        .section-title {
            font-family: 'Inter', sans-serif;
            font-size: 12px;
            font-weight: 700;
            color: var(--accent);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 10px;
            border-left: 4px solid var(--accent);
            padding-left: 10px;
            display: flex;
            align-items: center;
        }

        /* FIXED TEXT AREA CSS */
        .editable-area {
            width: 100%;
            border: 1px solid #e2e8f0;
            padding: 15px;
            font-size: 11pt;
            font-family: 'Inter', sans-serif;
            line-height: 1.8;
            /* Increased line height for readability */
            outline: none;
            white-space: pre-line;
            /* Collapses indentation, keeps newlines */
            border-radius: 4px;
            color: #334155;
            background-color: #fafafa;
        }

        .editable-area:focus {
            border-color: var(--accent);
            background-color: white;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .quote-footer {
            margin-top: auto;
            text-align: center;
            border-top: 1px solid var(--border-color);
            padding-top: 20px;
        }

        .gaming-quote {
            font-family: 'Allura', cursive;
            font-size: 28px;
            color: var(--accent);
            margin-bottom: 5px;
        }

        .meta-footer {
            font-size: 9px;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .controls {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            gap: 15px;
            z-index: 100;
        }

        .btn {
            background-color: var(--primary);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            background-color: black;
        }

        @media print {
            body {
                background: none;
                padding: 0;
                margin: 0;
            }

            .page {
                box-shadow: none;
                margin: 0;
                width: 210mm;
                min-height: 297mm;
                border: none;
            }

            .controls {
                display: none;
            }

            .editable-area {
                border: none;
                padding: 0;
                background: none;
                resize: none;
            }
        }
    </style>
</head>

<body>

    <div class="page">
        <header>
            <div class="header-left">
                <h1>Daily Dev Log</h1>
                <div class="subtitle">Zero Drag Project Archive</div>
            </div>
            <div class="header-right">
                DATE: <span id="current-date">--</span><br>
                TIME: <span id="current-time">--</span>
            </div>
        </header>

        <div class="section">
            <div class="section-title">‚úÖ Today's Achievements</div>
            <div class="editable-area" contenteditable="true">1. Implemented Enemy Health & Damage System
                (EnemyHealth.cs with TakeDamage function).
                2. Created Fractured Destruction Physics (Instantiate broken prefab + AddExplosionForce).
                3. Built Singleton Score Manager (ScoreManager.cs with static instance pattern).
                4. Added Kill Counter & Enemies Left UI (Two separate TextMeshPro elements).
                5. Implemented Impact Spark Effects (Instantiate at hit.point with hit.normal rotation).
                6. Fixed Audio Overlap Bug (Switched from Play() to PlayOneShot()).
                7. Resolved Player Rotation Bug (Removed Time.deltaTime from Mouse Input).
                8. Expanded Game Dev Manual to 22 Pages (Added Modules 7 & 8 with deep technical details).
                9. Fixed PDF Pagination Issue (Changed min-height to fixed height with overflow hidden).
                10. Pushed 7 Commits to GitHub (All FPS core systems now version-controlled).</div>
        </div>

        <div class="section">
            <div class="section-title">üß† Key Learnings</div>
            <div class="editable-area" contenteditable="true">GetComponent&lt;T&gt;: How to find and call functions on
                other scripts via Raycast hits.
                Null Checks: Why "if (enemy != null)" prevents NullReferenceException crashes.
                Public Functions: Why TakeDamage() must be public for cross-script communication.
                Instantiate + Destroy: The "Fake Switch" technique for performant destruction effects.
                AddExplosionForce: How Unity calculates vectors from center to push rigidbodies outward.
                GetComponentsInChildren: Finding all rigidbodies in a prefab's hierarchy.
                Singleton Pattern: Using "public static instance" for global manager access.
                Static vs Instance Variables: Static belongs to the class, instance belongs to objects.
                Awake() vs Start(): Awake runs first, ensuring Singleton is ready before any Start().
                FindGameObjectsWithTag: Automated enemy counting without manual Inspector assignment.
                TextMeshPro Integration: Using TMPro.TextMeshProUGUI for dynamic UI updates.
                hit.normal: The perpendicular vector to surfaces for correct spark orientation.
                Quaternion.LookRotation: Converting direction vectors into rotation for particle alignment.
                Destroy(obj, delay): Timed cleanup to prevent particle system memory leaks.
                PlayOneShot vs Play: PlayOneShot allows sound overlap for rapid firing.</div>
        </div>

        <div class="section">
            <div class="section-title">üöß Challenges & Fixes</div>
            <div class="editable-area" contenteditable="true">Challenge: Gun sounds cutting off during rapid fire.
                Fix: Replaced gunSound.Play() with gunSound.PlayOneShot(gunSound.clip) to allow overlapping audio.

                Challenge: Player camera "swinging" in circles when looking around.
                Fix: Removed Time.deltaTime from Mouse X/Y input and ensured camera Z position is 0.

                Challenge: Impact sparks spawning at wrong angles.
                Fix: Used Quaternion.LookRotation(hit.normal) to align particles perpendicular to surfaces.

                Challenge: Score UI showing "0" enemies even with cubes in scene.
                Fix: Tagged all enemy cubes with "Enemy" tag so FindGameObjectsWithTag could locate them.

                Challenge: PDF manual creating 32 pages instead of 22.
                Fix: Changed .page CSS from min-height to fixed height: 297mm with overflow: hidden.</div>
        </div>

        <div class="section">
            <div class="section-title">üìù Plan for Tomorrow</div>
            <div class="editable-area" contenteditable="true">1. Muzzle Flash: Add Light + Particle effect at gun tip
                when shooting.
                2. Enemy AI: Basic NavMesh patrol and player chase behavior.
                3. Weapon System: Multiple guns with switching, ammo, and reload mechanics.
                4. Health Bar UI: Player health display with damage feedback.
                5. Level Design: Build first playable environment with cover and objectives.</div>
        </div>

        <div class="quote-footer">
            <div class="gaming-quote">"Making Ideas Playable"</div>
            <div class="meta-footer">
                Logged by Advik Rajput ‚Ä¢ Antigravity Assist
            </div>
        </div>
    </div>

    <div class="controls">
        <button class="btn" onclick="window.print()">Download PDF üìÑ</button>
    </div>

    <script>
        const now = new Date();
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        document.getElementById('current-date').innerText = now.toLocaleDateString('en-US', options).toUpperCase();
        document.getElementById('current-time').innerText = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    </script>
</body>

</html>